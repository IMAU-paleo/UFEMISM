&CONFIG

  ! Time steps and range
  ! ====================

  start_time_of_run_config                    = -120000.0                        ! Start time (in years) of the simulations
  end_time_of_run_config                      = -119000.0                        ! End   time (in years) of the simulations
  dt_coupling_config                          = 100.0                            ! Interval of coupling (in years) between the four ice-sheets
  dt_max_config                               = 10.0                             ! Maximum time step (in years) of the ice model
  dt_thermo_config                            = 10.0                             ! Time step (in years) for updating thermodynamics
  dt_climate_config                           = 10.0                             ! Time step (in years) for updating the climate
  dt_ocean_config                             = 10.0                             ! Time step (in years) for updating the ocean
  dt_SMB_config                               = 10.0                             ! Time step (in years) for updating the SMB
  dt_BMB_config                               = 10.0                             ! Time step (in years) for updating the BMB
  dt_output_config                            = 100.0                            ! Time step (in years) for writing output
  dt_mesh_min_config                          = 50.0                             ! Minimum amount of time (in years) between mesh updates
  dt_bedrock_ELRA_config                      = 100.0                            ! Time step (in years) for updating the bedrock deformation rate with the ELRA model
  dt_SELEN_config                             = 1000.0                           ! Time step (in years) for calling SELEN

  ! Which ice sheets do we simulate?
  ! ================================

  do_NAM_config                               = .FALSE.                          ! North America
  do_EAS_config                               = .FALSE.                          ! Eurasia
  do_GRL_config                               = .FALSE.                          ! Greenland
  do_ANT_config                               = .TRUE.                           ! Antarctica

  ! Whether or not to let UFEMISM dynamically create its own output folder
  ! =======================================================================

  create_procedural_output_dir_config         = .TRUE.                           ! Automatically create an output directory with a procedural name (e.g. results_20210720_001/)
  fixed_output_dir_config                     = 'results_ANT_40km_meshtest'      ! If not, create a directory with this name instead (stops the program if this directory already exists)

  ! Debugging
  ! =========

  do_write_debug_data_config                  = .TRUE.                           ! Whether or not the debug NetCDF file should be created and written to
  do_check_for_NaN_config                     = .FALSE.                          ! Whether or not fields should be checked for NaN values
  do_write_memory_tracker_config              = .FALSE.                          ! Whether or not the memory use tracker should be used

  ! Mesh generation parameters
  ! ==========================

  nconmax_config                              = 16                               ! Maximum number of vertex connections
  alpha_min_config                            = 0.55                             ! Minimum internal angle of triangles (0.4363 = 25 degrees)
  dz_max_ice_config                           = 20000.0                          ! Maximum allowed 2nd order surface deviation over ice
  res_max_config                              = 200.0                            ! Maximum allowed resolution                            [km]
  res_max_margin_config                       = 200.0                            ! Maximum allowed resolution over land-based ice margin [km]
  res_max_gl_config                           = 40.0                             !                                 grounding line        [km]
  res_max_cf_config                           = 200.0                            !                                 calving front         [km]
  res_max_mountain_config                     = 200.0                            !                                 mountains             [km]
  res_max_coast_config                        = 200.                             !                                 coastline             [km]
  mesh_fitness_threshold_config               = 0.999999                         ! Minimum allowed mesh fitness (fraction of triangles that are not Bad) before mesh updating

  ! Resolutions of the different square grids
  ! =========================================

  dx_grid_output_config                       = 40000.0                          ! Resolution of the square grid used for writing output                       [m]
  dx_grid_GIA_config                          = 100000.0                         ! Resolution of the square grid used for GIA modelling (ELRA or SELEN)        [m]
  dx_grid_smooth_config                       = 50000.0                          ! Resolution of the square grid used for data smoothing in the climate matrix [m]

  ! Reference geometries (initial, present-day, and GIA equilibrium)
  ! ================================================================

  ! Initial geometry
  choice_refgeo_init_NAM_config               = 'realistic'                      ! Choice of initial geometry for North America; can be "idealised", "realistic", or "restart"
  choice_refgeo_init_EAS_config               = 'realistic'                      ! Choice of initial geometry for Eurasia      ; can be "idealised", "realistic", or "restart"
  choice_refgeo_init_GRL_config               = 'realistic'                      ! Choice of initial geometry for Greenland    ; can be "idealised", "realistic", or "restart"
  choice_refgeo_init_ANT_config               = 'realistic'                      ! Choice of initial geometry for Antarctica   ; can be "idealised", "realistic", or "restart"
  filename_refgeo_init_NAM_config             = 'data/ETOPO1/NorthAmerica_ETOPO1_5km.nc'
  filename_refgeo_init_EAS_config             = 'data/ETOPO1/Eurasia_ETOPO1_5km.nc'
  filename_refgeo_init_GRL_config             = 'data/Bedmachine_Greenland/Greenland_BedMachine_5km.nc'
  filename_refgeo_init_ANT_config             = 'data/Bedmachine_Antarctica/Bedmachine_v1_Antarctica_5km.nc'

  ! Present-day geometry
  choice_refgeo_PD_NAM_config                 = 'realistic'                      ! Choice of present-day geometry for North America; can be "idealised", "realistic", or "restart"
  choice_refgeo_PD_EAS_config                 = 'realistic'                      ! Choice of present-day geometry for Eurasia      ; can be "idealised", "realistic", or "restart"
  choice_refgeo_PD_GRL_config                 = 'realistic'                      ! Choice of present-day geometry for Greenland    ; can be "idealised", "realistic", or "restart"
  choice_refgeo_PD_ANT_config                 = 'realistic'                      ! Choice of present-day geometry for Antarctica   ; can be "idealised", "realistic", or "restart"
  filename_refgeo_PD_NAM_config               = 'data/ETOPO1/NorthAmerica_ETOPO1_5km.nc'
  filename_refgeo_PD_EAS_config               = 'data/ETOPO1/Eurasia_ETOPO1_5km.nc'
  filename_refgeo_PD_GRL_config               = 'data/Bedmachine_Greenland/Greenland_BedMachine_5km.nc'
  filename_refgeo_PD_ANT_config               = 'data/Bedmachine_Antarctica/Bedmachine_v1_Antarctica_5km.nc'

  ! GIA equilibrium geometry
  choice_refgeo_GIAeq_NAM_config              = 'realistic'                      ! Choice of GIA equilibrium geometry for North America; can be "idealised", "realistic", or "restart"
  choice_refgeo_GIAeq_EAS_config              = 'realistic'                      ! Choice of GIA equilibrium geometry for Eurasia      ; can be "idealised", "realistic", or "restart"
  choice_refgeo_GIAeq_GRL_config              = 'realistic'                      ! Choice of GIA equilibrium geometry for Greenland    ; can be "idealised", "realistic", or "restart"
  choice_refgeo_GIAeq_ANT_config              = 'realistic'                      ! Choice of GIA equilibrium geometry for Antarctica   ; can be "idealised", "realistic", or "restart"
  filename_refgeo_GIAeq_NAM_config            = 'data/ETOPO1/NorthAmerica_ETOPO1_5km.nc'
  filename_refgeo_GIAeq_EAS_config            = 'data/ETOPO1/Eurasia_ETOPO1_5km.nc'
  filename_refgeo_GIAeq_GRL_config            = 'data/Bedmachine_Greenland/Greenland_BedMachine_5km.nc'
  filename_refgeo_GIAeq_ANT_config            = 'data/Bedmachine_Antarctica/Bedmachine_v1_Antarctica_5km.nc'

  remove_Lake_Vostok_config                   = .TRUE.

  ! Ice dynamics - velocity
  ! =======================

  choice_ice_dynamics_config                  = 'DIVA'                           ! Choice of ice-dynamica approximation: "none" (= fixed geometry), "SIA", "SSA", "SIA/SSA", "DIVA"

  ! Climate
  ! =======

  choice_climate_model_config                 = 'matrix_warm_cold'               ! Choice of climate model: "none", "idealised", "PD_obs", "PD_dTglob", "matrix_warm_cold", "direct_global", "direct_regional"

  ! NetCDF file containing the present-day observed climate (e.g. ERA40)
  filename_PD_obs_climate_config              = 'data/ERA40/ERA40_climate_global.nc'

  ! GCM snapshots in the matrix_warm_cold option
  filename_climate_snapshot_PI_config         = 'data/GCM_snapshots/IPSL_PI.nc'
  filename_climate_snapshot_warm_config       = 'data/GCM_snapshots/IPSL_PI.nc'
  filename_climate_snapshot_cold_config       = 'data/GCM_snapshots/IPSL_LGM.nc'

  constant_lapserate_config                   = 0.008                            ! Constant atmospheric lapse rate [K m^-1]

  ! Scaling factor for CO2 vs ice weights
  climate_matrix_CO2vsice_NAM_config          = 0.5                              ! Weight factor for the influence of CO2 vs ice cover on temperature
  climate_matrix_CO2vsice_EAS_config          = 0.5                              ! Can be set separately for different regions
  climate_matrix_CO2vsice_GRL_config          = 0.75                             ! Default values are from Berends et al, 2018
  climate_matrix_CO2vsice_ANT_config          = 0.75                             ! 1.0_dp equals glacial index method

  ! Orbit time and CO2 concentration of the warm and cold snapshots
  matrix_high_CO2_level_config                = 280.0                            ! CO2 level  pertaining to the warm climate (PI  level default)
  matrix_low_CO2_level_config                 = 190.0                            ! CO2 level  pertaining to the cold climate (LGM level default)
  matrix_warm_orbit_time_config               = 0.0                              ! Orbit time pertaining to the warm climate (PI default)
  matrix_cold_orbit_time_config               = -21000.0                         ! Orbit time pertaining to the cold climate (LGM default)

  ! Whether or not to apply a bias correction to the GCM snapshots
  climate_matrix_biascorrect_warm_config      = .TRUE.                           ! Whether or not to apply a bias correction (modelled vs observed PI climate) to the "warm" GCM snapshot
  climate_matrix_biascorrect_cold_config      = .TRUE.                           ! Whether or not to apply a bias correction (modelled vs observed PI climate) to the "cold" GCM snapshot

  switch_glacial_index_precip_config          = .FALSE.                          ! If a glacial index is used for the precipitation forcing, it will only depend on CO2

  ! Ocean
  ! =====

  choice_ocean_model_config                   = 'none'                           ! Choice of ocean model: "none", "idealised", "uniform_warm_cold", "PD_obs", "matrix_warm_cold"

  ! Surface mass balance
  ! ====================

  choice_SMB_model_config                     = 'IMAU-ITM'                       ! Choice of SMB model: "uniform", "idealised", "IMAU-ITM", "direct_global", "direct_regional"
  SMB_uniform_config                          = 0.0                              ! Uniform SMB, applied when choice_SMB_model = "uniform" [mie/yr]

  ! Tuning parameters for the IMAU-ITM SMB model
  SMB_IMAUITM_choice_init_firn_NAM_config     = 'uniform'                        ! How to initialise the firn layer in the IMAU-ITM SMB model: "uniform", "restart"
  SMB_IMAUITM_choice_init_firn_EAS_config     = 'uniform'
  SMB_IMAUITM_choice_init_firn_GRL_config     = 'uniform'
  SMB_IMAUITM_choice_init_firn_ANT_config     = 'uniform'
  SMB_IMAUITM_initial_firn_thickness_config   = 1.0                              ! Initial firn thickness of the IMAU-ITEM SMB model [m] (used when SMB_IMAUITM_choice_init_firn = "uniform")
  SMB_IMAUITM_C_abl_constant_NAM_config       = 0.0                              ! 34.0      (commented values are old ANICE defaults, but since refreezing
  SMB_IMAUITM_C_abl_constant_EAS_config       = 0.0                              !           was not calculated right and this has since been fixed, these
  SMB_IMAUITM_C_abl_constant_GRL_config       = 0.0                              !           values will still not give the same results as they used to
  SMB_IMAUITM_C_abl_constant_ANT_config       = 0.0                              !           in ANICE.)
  SMB_IMAUITM_C_abl_Ts_NAM_config             = 10.0                             ! 10._dp
  SMB_IMAUITM_C_abl_Ts_EAS_config             = 10.0
  SMB_IMAUITM_C_abl_Ts_GRL_config             = 10.0
  SMB_IMAUITM_C_abl_Ts_ANT_config             = 10.0
  SMB_IMAUITM_C_abl_Q_NAM_config              = 0.0227                           ! 0.513_dp
  SMB_IMAUITM_C_abl_Q_EAS_config              = 0.0227
  SMB_IMAUITM_C_abl_Q_GRL_config              = 0.0227
  SMB_IMAUITM_C_abl_Q_ANT_config              = 0.0227
  SMB_IMAUITM_C_refr_NAM_config               = 0.051                            ! 0.012_dp
  SMB_IMAUITM_C_refr_EAS_config               = 0.051
  SMB_IMAUITM_C_refr_GRL_config               = 0.051
  SMB_IMAUITM_C_refr_ANT_config               = 0.051

  ! Basal mass balance
  ! ==================

  choice_BMB_shelf_model_config               = 'uniform'                        ! Choice of shelf BMB: "uniform", "idealised", "ANICE_legacy", "Favier2019_lin", "Favier2019_quad", "Favier2019_Mplus", "Lazeroms2018_plume", "PICO", "PICOP"
  choice_BMB_sheet_model_config               = 'uniform'                        ! Choice of sheet BMB: "uniform"
  BMB_shelf_uniform_config                    = 0.0                              ! Uniform shelf BMB, applied when choice_BMB_shelf_model = "uniform" [mie/yr]
  BMB_sheet_uniform_config                    = 0.0                              ! Uniform sheet BMB, applied when choice_BMB_sheet_model = "uniform" [mie/yr]
  choice_BMB_subgrid_config                   = 'FCMP'                           ! Choice of sub-grid BMB scheme: "FCMP", "PMP", "NMP" (following Leguy et al., 2021)
  do_asynchronous_BMB_config                  = .FALSE.                          ! Whether or not to run the BMB asynchronously from the ice dynamics (if so, run it at dt_BMB; if not, run it in every ice dynamics time step)
  BMB_max_config                              = 50.0                             ! Maximum amount of allowed basal melt [mie/yr]

  choice_basin_scheme_NAM_config              = 'none'                           ! Choice of basin ID scheme; can be 'none' or 'file'
  choice_basin_scheme_EAS_config              = 'none'
  choice_basin_scheme_GRL_config              = 'none'
  choice_basin_scheme_ANT_config              = 'none'
  filename_basins_NAM_config                  = ''                               ! Path to a text file containing polygons of drainage basins
  filename_basins_EAS_config                  = ''
  filename_basins_GRL_config                  = 'data/drainage_basins/grndrainagesystems_ekholm.txt'
  filename_basins_ANT_config                  = 'data/drainage_basins/ant_full_drainagesystem_polygons.txt'
  do_merge_basins_ANT_config                  = .TRUE.                           ! Whether or not to merge some of the Antarctic basins
  do_merge_basins_GRL_config                  = .TRUE.                           ! Whether or not to merge some of the Greenland basins

  ! Sea level and GIA
  ! =================

  do_ocean_floodfill_config                   = .TRUE.                           ! Use a flood-fill to determine the ocean mask, so that (pro-/sub-glacial) lakes dont exist
  choice_sealevel_model_config                = 'eustatic'                       ! Can be "fixed", "prescribed", "eustatic", or "SELEN"
  fixed_sealevel_config                       = 0.0
  filename_sealevel_record_config             = 'name_of_file.dat'
  sealevel_record_length_config               = 1

  choice_GIA_model_config                     = 'ELRA'                           ! Can be "none", "ELRA", or "SELEN"
  ELRA_lithosphere_flex_rigidity_config       = 1.0E+25                          ! Lithospheric flexural rigidity [kg m^2 s^-2]
  ELRA_bedrock_relaxation_time_config         = 3000.0                           ! Relaxation time for bedrock adjustment [yr]
  ELRA_mantle_density_config                  = 3300.0                           ! Mantle density [kg m^-3]

  ! SELEN
  ! =====

  SELEN_run_at_t_start_config                  = .FALSE.                         ! Whether or not to run SELEN in the first coupling loop (needed for some benchmark experiments)
  SELEN_n_TDOF_iterations_config               = 1                               ! Number of Time-Dependent Ocean Function iterations
  SELEN_n_recursion_iterations_config          = 1                               ! Number of recursion iterations
  SELEN_use_rotational_feedback_config         = .FALSE.                         ! If TRUE, rotational feedback is included
  SELEN_n_harmonics_config                     = 128                             ! Maximum number of harmonic degrees
  SELEN_display_progress_config                = .FALSE.                         ! Whether or not to display the progress of the big loops to the screen

  SELEN_dir_config                            = 'data/SELEN'                     ! Directory where SELEN initial files and spherical harmonics are stored
  SELEN_global_topo_filename_config           = 'SELEN_global_topography.nc'     ! Filename for the SELEN global topography file (located in SELEN_dir)
  SELEN_TABOO_init_filename_config            = 'SELEN_TABOO_initial_file.dat'   ! Filename for the TABOO initial file           (idem                )
  SELEN_LMJ_VALUES_filename_config            = 'SELEN_lmj_values.bin'           ! Filename for the LJ and MJ values file        (idem                )

  ! Which data fields will be written to the help_fields output file
  ! ================================================================

  help_field_01_config                        = 'lat'
  help_field_02_config                        = 'lon'
  help_field_03_config                        = 'resolution'
  help_field_04_config                        = 'Hi'
  help_field_05_config                        = 'Hs'
  help_field_06_config                        = 'Hb'
  help_field_07_config                        = 'T2m_year'
  help_field_08_config                        = 'Precip_year'
  help_field_09_config                        = 'SMB_year'
  !help_field_10_config                        = 'BMB'
  !help_field_11_config                        = 'Snowfall_year'
  !help_field_12_config                        = 'Rainfall_year'
  !help_field_13_config                        = 'Refreezing_year'
  !help_field_14_config                        = 'Runoff_year'
  !help_field_15_config                        = 'Albedo_year'
  help_field_16_config                        = 'dHb'
  help_field_17_config                        = 'dHb_dt'
  help_field_18_config                        = 'SL'
  help_field_19_config                        = 'dSL_dt'
  help_field_20_config                        = 'none'

/
